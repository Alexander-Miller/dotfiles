env = HYPRCURSOR_THEME, "Nordzy-hyprcursors-white"
env = HYPRCURSOR_SIZE,  22
env = XCURSOR_PATH,     ~/.icons:~/.local/share/icons:/usr/share/icons
env = XCURSOR_THEME,    "Nordzy-cursors-white"
env = XCURSOR_SIZE,     22

exec-once = tmux setenv -g HYPRLAND_INSTANCE_SIGNATURE "$HYPRLAND_INSTANCE_SIGNATURE"
exec-once = waybar
exec-once = hyprscratch init clean eager
exec-once = hyprpaper
exec-once = blueman-applet
exec-once = nm-applet --indicator
exec-once = hyprpm reload -n
exec-once = redshift-gtk
exec-once = sleep 3 && fish -c random_wallpaper

$mod = SUPER
$S   = SHIFT

monitor=,preferred,auto,auto

ecosystem {
  enforce_permissions = 1
}

permission = /usr/(bin|local/bin)/grim, screencopy, allow
permission = /usr/(lib|libexec|lib64)/xdg-desktop-portal-hyprland, screencopy, allow
permission = /usr/(bin|local/bin)/hyprpm, plugin, allow

general {
  gaps_in              = 5
  gaps_out             = 10
  border_size          = 4
  resize_on_border     = true
  hover_icon_on_border = true
  allow_tearing        = false
  col.active_border    = rgb(6699CC)
  col.inactive_border  = rgb(111111)
}

input {
  kb_layout           = de
  numlock_by_default  = yes
  follow_mouse        = 1
  kb_options          = ctrl:nocaps
  special_fallthrough = true
  sensitivity         = 0

  touchpad {
    natural_scroll          = no
    disable_while_typing    = no
    middle_button_emulation = no
  }
}

decoration {
  dim_special        = 0
  dim_modal          = 0
  dim_inactive       = 0
  rounding           = 0
  active_opacity     = 1.0
  inactive_opacity   = 1.0
  fullscreen_opacity = 1.0

  shadow {
    enabled      = true
    range        = 30
    render_power = 3
    color        = rgba(000000FF)
  }
}

group {
  groupbar {
    enabled              = true
    font_size            = 12
    font_weight_active   = bold
    font_weight_inactive = bold
    gradients            = true
    height               = 16
    indicator_gap        = 0
    indicator_height     = 0
    stacked              = false
    render_titles        = true
    scrolling            = true
    text_color           = rgb(000000)
    text_color_inactive  = rgb(999999)
    col.active           = rgb(4477AA)
    col.inactive         = rgb(19191D)
    gaps_in              = 0
    gaps_out             = 0
    blur                 = true
  }
}

misc {
  force_default_wallpaper = 1
  disable_hyprland_logo   = true
  font_family             = Fantasque Sans Mono
}

binds {
  workspace_back_and_forth = on
}

dwindle {
  pseudotile     = true
  force_split    = 2
  preserve_split = true
  smart_resizing = true
}

windowrule {
  name           = Floating Rounding
  match:float    = true
  rounding       = 8
  rounding_power = 10
}

windowrule {
  name        = MPV WS 1
  match:class = mpv
  workspace   = 1
}

windowrule {
  name        = Firefox WS 2
  match:class = firefox
  workspace   = 2
}

windowrule {
  name        = Emacs WS 3
  match:class = emacs
  workspace   = 3
}

layerrule {
  name        = rofi-animation
  match:class = rofi
  animation   = slide-in
}

# Smart Gaps
workspace  = w[tv1], gapsout:0, gapsin:0
windowrule = border_size 0, match:float 0, match:workspace w[tv1]

bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

bind = , XF86AudioRaiseVolume,  exec, amixer -D pulse sset Master 5%+
bind = , XF86AudioLowerVolume,  exec, amixer -D pulse sset Master 5%-
bind = , XF86MonBrightnessUp,   exec, fish -c 'set_brightness +1000'
bind = , XF86MonBrightnessDown, exec, fish -c 'set_brightness 1000-'

bind = $mod,    Return,     exec, alacritty
bind = $mod,    Tab,        exec, rofi -show drun
bind = $mod,    L,          exec, rofi -show window
bind = $mod,    udiaeresis, exec, hyprscratch scratchpad "alacritty --title scratchpad"
bind = $mod $S, O,          exec, fish -c yequake
bind = $mod $S, period,     exec, fish -c rofi_utils
bind = $mod $S, X,          exec, hyprlock
bind = $mod $S, P,          exec, fish -c rofi_pass

bindl = ,   Print, exec, sh -lc 'sleep 3; grim "$HOME/Pictures/screenshot-$(date +%F_%H-%M-%S).png" && notify-send "Screenshot taken" --icon=image'
bindl = $S, Print, exec, sh -lc 'grim -g "$(slurp)" "$HOME/Pictures/screenshot-$(date +%F_%H-%M-%S).png" && notify-send "Screenshot taken" --icon=image'

bind = $mod,    Q,     killactive
bind = $mod,    F,     fullscreen
bind = $mod,    space, cyclenext
bind = $mod $S, space, togglefloating
bind = $mod $S, I,     pin

bind = $mod, W,     movefocus, u
bind = $mod, A,     movefocus, l
bind = $mod, A,     changegroupactive, b
bind = $mod, S,     movefocus, d
bind = $mod, D,     movefocus, r
bind = $mod, D,     changegroupactive, f
bind = $mod, Left,  movefocus, l
bind = $mod, Down,  movefocus, d
bind = $mod, Up,    movefocus, u
bind = $mod, Right, movefocus, r

bind = $mod $S, A, movewindow, l
bind = $mod $S, S, movewindow, d
bind = $mod $S, W, movewindow, u
bind = $mod $S, D, movewindow, r

bind = $mod, E, togglesplit
bind = $mod, C, togglegroup

bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10

bind = $mod $S, 1, movetoworkspace, 1
bind = $mod $S, 2, movetoworkspace, 2
bind = $mod $S, 3, movetoworkspace, 3
bind = $mod $S, 4, movetoworkspace, 4
bind = $mod $S, 5, movetoworkspace, 5
bind = $mod $S, 6, movetoworkspace, 6
bind = $mod $S, 7, movetoworkspace, 7
bind = $mod $S, 8, movetoworkspace, 8
bind = $mod $S, 9, movetoworkspace, 9
bind = $mod $S, 0, movetoworkspace, 10

bind = $mod $S, H, movecurrentworkspacetomonitor, -1
bind = $mod $S, L, movecurrentworkspacetomonitor, +1
bind = $mod $S, J, movecurrentworkspacetomonitor, +1
bind = $mod $S, K, movecurrentworkspacetomonitor, -1

bind = $mod $S, R, exec, hyprctl reload
bind = $mod $S, E, exit

bind   = $mod, R, submap, resize
submap = resize
bind   = , h, resizeactive, -10 0
bind   = , l, resizeactive,  10 0
bind   = , k, resizeactive,  0 -10
bind   = , j, resizeactive,  0  10
bind   = , Return, submap, reset
bind   = , Escape, submap, reset
submap = reset
